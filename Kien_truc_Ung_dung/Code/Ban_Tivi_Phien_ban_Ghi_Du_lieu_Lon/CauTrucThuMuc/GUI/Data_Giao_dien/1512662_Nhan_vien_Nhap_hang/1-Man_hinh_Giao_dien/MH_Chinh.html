<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Nhân viên Nhập hàng</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body style="font-family:Arial; width: 100%; box-sizing: border-box;
                margin:0px;padding:0px;"
                class="container-fluid"
                onload="Xu_ly_Khoi_dong()">
    <div class="container" style="height: auto;width:1080px;">
        <div id = "CUA_SO_PET" style="background-color:aqua;width:1060px;">
            <div class="btn PET">
                <div class="btn btn-outline-primary" style="color:blue;background-color:white;font-size:40px">
                    CỬA HÀNG TIVI
                    <img src="../../../Img/PET.png" alt=""> 
                </div>
                <div class="btn Ung_dung" style="color:blue;font-size:30px;">
                    Ứng dụng Nhân viên Nhập hàng
                </div>               
            </div>
        </div>
        <div id="CUA_SO_CHUC_NANG" style="width:1060px;background-color:#5182a3; margin:10px 0px; padding:5px 5px;">
            <div class="DANH_SACH_CHUC_NANG">
                <div>
                    <input id="Th_Tivi" type="text" 
                        spellcheck="no" placeholder="Tivi"
                        autocomplete="off"
                        value="" onkeyup="Xu_ly_Tra_cuu()"  />
                    <input id="Th_Ngay" spellcheck="no" type="date"
                        autocomplete="off" placeholder="Ngày"
                        value=""   />
                    <input id="Th_So_luong" type="number"  min="1"
                        spellcheck="no" placeholder="Số lượng"
                        autocomplete="off"
                        value=""    onkeyup="Tinh_tong_tien()"/>
                    <input id="Th_Don_gia" type="number"  min="1"
                        spellcheck="no" placeholder="Đơn giá"
                        autocomplete="off"
                        value="" disabled="true" />
                    <input id="Th_Tien" type="number"  min="1"
                        spellcheck="no" placeholder="Tổng tiền"
                        autocomplete="off"
                        value=""  disabled = "true"/>
                    <div class="btn btn-danger" onclick="Xu_ly_Nhap_hang()" style="margin-top:10px;"
                        >Nhập hàng</div>
                </div>
            </div>
        </div>
        <div id="CUA_SO_THONG_BAO" style="margin-bottom:10px;background-color:white;font-size:30px; text-align:center; color:red;"  >

        </div>
        <div id="CUA_SO_KET_QUA" style="width:1060px;background-color:white;margin:10px 0px">
            
        </div>
    </div>
    
</body>
</html>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
        integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>


<script src="../3-Doi_tuong_va_Xu_ly/3B-Xu_ly_3L.js" ></script>
<script>
    var danh_sach_tivi = [];
    var danh_sach_tivi_Xem = [];
    //*************** Biến Cố Khởi động  ************
    function Xu_ly_Khoi_dong(){
        danh_sach_tivi = Doc_Danh_sach_Tivi();
        danh_sach_tivi_Xem = danh_sach_tivi;

        var chuoi_HTML = Tao_Chuoi_HTML_Danh_sach_Tivi(danh_sach_tivi_Xem)
        CUA_SO_KET_QUA.innerHTML=chuoi_HTML;
    }
    //*************** Biến Cố Yêu cầu Tra cứu  ************
    function Xu_ly_Tra_cuu( ){
        var Chuoi_Tra_cuu=Th_Tivi.value
        if(Chuoi_Tra_cuu == ""){
            var chuoi_HTML = Tao_Chuoi_HTML_Danh_sach_Tivi(danh_sach_tivi_Xem)
            CUA_SO_KET_QUA.innerHTML = chuoi_HTML;
            return;
        }
        Danh_sach_Mat_hang_Xem=Tra_cuu_Mat_hang(Chuoi_Tra_cuu,danh_sach_tivi)
        var Chuoi_HTML_Danh_sach_Mat_hang;
        if(Danh_sach_Mat_hang_Xem.length > 0){
            Chuoi_HTML_Danh_sach_Mat_hang = Tao_Chuoi_HTML_Danh_sach_Tivi(Danh_sach_Mat_hang_Xem);
            Th_Don_gia.value = Danh_sach_Mat_hang_Xem[0].getAttribute("Don_gia_Nhap");
        }
        else
            Chuoi_HTML_Danh_sach_Mat_hang = "";
        CUA_SO_KET_QUA.innerHTML=Chuoi_HTML_Danh_sach_Mat_hang;
    }

    //*************** Biến Cố Xử lý Tính toán tong tien  ************
    function Tinh_tong_tien(){
        if(Th_Don_gia.value != "" && Th_So_luong.value != "" && CUA_SO_KET_QUA.innerHTML != ""){
            Th_Tien.value =parseInt(Th_So_luong.value) *parseInt(Th_Don_gia.value);
        }
    }

    //*************** Biến Cố Xử lý Nhập hàng  ************
    function Xu_ly_Nhap_hang(){
        var res =Tinh_toan_Nhap_hang(); 
        if(res == "false")
        {
            CUA_SO_THONG_BAO.innerHTML = "Lỗi nhập liệu!";
        }
        else if(res == "true"){
            CUA_SO_THONG_BAO.innerHTML = "";
        }
    }
</script>